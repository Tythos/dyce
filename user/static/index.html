<!DOCTYPE html>
<html>
    <head>
        <title>User Layer</title>
        <meta charset="utf-8"/>
        <style>
            body {
                margin: 0;
                background-color: #000;
                color: #fff;
                font-family: monospace;
                padding: 16px 32px;
                font-weight: bold;
                font-size: 16pt;
            }
        </style>
        <script type="text/javascript">
            function onResponseParsed(text) {
                let div = window.document.createElement("div");
                div.textContent = `Response text from "GET /wsgi/getFoo": ${text}`;
                window.document.body.appendChild(div);
            }

            function onWsgiResponse(response) {
                response.text().then(onResponseParsed);
            }

            function onWindowLoad(event) {
                console.log("window loaded:", event);
                fetch("/wsgi/getFoo").then(onWsgiResponse);
            }

            window.addEventListener("load", onWindowLoad);
        </script>
    </head>
    <body>
        <div>Here. We. Go.</div>
    </body>
</html>
